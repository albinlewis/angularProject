<header class="col-md-12">
    <h2>Analysis</h2>
    <hr>
</header>

<form #analysisForm="ngForm" class="row col-md-6 col-sm-12 mx-auto justify-content-center flex-column" (ngSubmit)="onSubmit()">
    <div class="form-group">
        <label for="crop_id">Please select a plant to analyse.</label>
        <select name="crop_id" class="custom-select mb-3" ngModel>
            <option *ngFor="let plant of plants" [value]="plant._id">{{plant.name}}</option>
        </select>
    </div>
    <div class="custom-file  mb-3">
        <input type='file' (change)="onSelectFile($event)" accept="image/*" class="inputfile col-md-3" id="image_file" name="image_file"
            #image ngModel>
        <label class="custom-file-label" for="image_file">Choose an image</label>
    </div>

    <img [src]="url" class="mx-auto" *ngIf="showImage == true" class="img-fluid center-block">


    <div *ngIf="showImage == true" class="form-group mt-2">
        <label for="notification_email" class="col-form-label">Send the result to my email:</label>
        <input type="email" name="notification_email" class="form-control" [(ngModel)]="notification_email">
    </div>
    <div *ngIf="showImage == true" class="mt-3 mx-auto">
        <button type="button" type="submit" class="btn btn-primary btn-lg">Analyse</button>
    </div>
</form>

<div class="cover" #loader>
    <div class="loader"></div>
    <h3>Analysis is progressing</h3>
</div>
